<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
    
        <title>Trivia</title>

        <!-- Linking jQuery -->
        <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
    
        <!-- Linking Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
        <!-- Linking Bootstrap Theme -->
        <link rel="stylesheet" href="assets/css/bootstrap.css">
    </head>

    <body>
        <script class="text/javascript">
            $(document).ready(function () {
                // Countdown 
                
                var time = 10;
                var intervalId;
                
                $("#main-container").hide();
                $(".card").hide();


                $("#start-button").on("click", function() {
                    $("#main-container").show();
                    $("#start-container").hide();
                    startTime();
                });
                
                function countdown() {
                    time--;
                    $(".time").html("Time Remaining: " + time);
                    if (time === 0) {
                        clearInterval(intervalId);
                        alert("Game Over");
                        gradeAnswers();
                        displayScore();
                    }
                };
                function startTime() {
                    clearInterval(intervalId);
                    intervalId = setInterval(countdown, 1000);
                };
                



                var correctCount = 0;
                var incorrectCount = 0;
                var unansweredCount = 0;
                var answers = [];
                
                function gradeAnswers() {
                    for (var i = 1; i < 5; i++) {
                        var val = $('input:radio[name="q'+i+'"]:checked').val(); 
                        answers.push(val);
                    }
                    console.log(answers);
                    
                    // Grading question 1
                    if (answers[0] === "7") {
                        correctCount++;
                    }
                    else if (answers[0] === undefined) {
                        unansweredCount++;
                    }
                    else if (answers[0] !== "7") {
                        incorrectCount++;
                    };

                    //Grading question 2
                    if (answers[1] === "3") {
                        correctCount++;
                    }
                    else if (answers[1] === undefined) {
                        unansweredCount++;
                    }
                    else if (answers[1] !== "3") {
                        incorrectCount++;
                    };
                    
                    //Grading question 3
                    if (answers[2] === "29") {
                        correctCount++;
                    }
                    else if (answers[2] === undefined) {
                        unansweredCount++;
                    }
                    else if (answers[2] !== "29") {
                        incorrectCount++;
                    };
                    
                    //Grading question 4
                    if (answers[3] === "191") {
                        correctCount++;
                    }
                    else if (answers[3] === undefined) {
                        unansweredCount++;
                    }
                    else if (answers[3] !== "191") {
                        incorrectCount++;
                    };

                }

                $("#submit").on("click", function() {
                    correctCount = 0;
                    incorrectCount = 0;
                    unansweredCount = 0;
                    answers = [];
                    gradeAnswers();
                    displayScore();
                    correctCount = 0;
                    incorrectCount = 0;
                    unansweredCount = 0;
                    answers = [];

                });

                function displayScore() {
                    $(".score").html("Correct Answers: " + correctCount + "<br>");
                    $(".score").append("Incorrect Answers: " + incorrectCount + "<br>");
                    $(".score").append("Unanswered: " + unansweredCount);
                }
                displayScore();
                

            
            });
        </script>



        <!-- Time -->
        <h3 class="time"></h3>

        <div class="container" id="start-container">
            <div class="jumbotron">
                <button type="button" id="start-button" class="btn btn-primary btn-lg">START</button>
            </div>
        </div>

        <div class="container" id="main-container">
            <!-- Jumbotron holding questions -->
            <div class="jumbotron">
                <h2 class="display-3">Prime Numbers Trivia</h2>
                <p class="lead">

                    <!-- Question 1 -->
                    <div class="question1">
                        <h3>1. Which of the following is a prime number?</h3>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q1" id="optionsRadios1" value="7">7
                                </label>
                            </div>
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q1" id="optionsRadios1" value="12">12
                                    </label>
                            </div> 
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q1" id="optionsRadios1" value="4">4
                                    </label>
                            </div>     
                    </div>

                    <!-- Question 2 -->
                    <div class="question2">
                        <h3>2. Which of the following is a prime number?</h3>
                        <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q2" id="optionsRadios1" value="3">3
                                </label>
                            </div>
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q2" id="optionsRadios1" value="15">15
                                    </label>
                            </div> 
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q2" id="optionsRadios1" value="32">32
                                    </label>
                            </div>  
                    </div>
                    <!-- Question 3 -->
                    <div class="question3">
                        <h3>3. Which of the following is a prime number?</h3>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q3" id="optionsRadios1" value="9">9
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q3" id="optionsRadios1" value="29">29
                                </label>
                            </div> 
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q3" id="optionsRadios1" value="104">104
                                </label>
                            </div>  
                    </div>
                    <!-- Question 4 -->
                    <div class="question4">
                        <h3>4. Which of the following is a prime number?</h3>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="radio" class="form-check-input" name="q4" id="optionsRadios1" value="198">198
                                </label>
                            </div>
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q4" id="optionsRadios1" value="63">63
                                    </label>
                            </div> 
                            <div class="form-check">
                                    <label class="form-check-label">
                                        <input type="radio" class="form-check-input" name="q4" id="optionsRadios1" value="191">191
                                    </label>
                            </div>  
                    </div>



            


                </p>
                <hr class="my-4">
                <p class="lead">
                    <button type="submit" id="submit"class="btn btn-primary">Submit</button>
                </p>
            </div>
        </div>
        
        <div class="card text-white bg-primary mb-3" style="max-width: 20rem;">
            <div class="card-header">Score</div>
            <div class="card-body">
                <h4 class="card-title score"></h4>
            </div>
        </div>
    

    </body>
</html>